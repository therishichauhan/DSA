(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5223,7103],{91377:function(e,t,n){"use strict";n.r(t);var r=n(47568),a=n(97582),i=n(85893),o=n(67294),c=n(58369),s=n(85215),u=(n(93512),n(83514),n(80429),n(83023),n(48663)),l=n(78506),d=n(1247),f=function(e){var t=localStorage.getItem(d.tE);if(t){var n=(t=JSON.parse(t)).gfgVolumebar,r=t.gfgRatebar;e.volume(n),e.defaultPlaybackRate(r)}};t.default=function(e){var t=e.video,n=e._playerRef,v=e.autoplay,m=e.trackUserActivity,p=e.trackUserActivityHandler,g=e.setIsPlayerLoaded,h=e.setTranscript,y=e.videoVTT,T=e.focusVideoPlayer,k=void 0===T||T,_=e.className,b=void 0===_?"":_,S=e.muted,E=void 0!==S&&S,x=e.showTranscriptIcon,C=e.onSeekPlaybackTime,L=e.trackScreenWatchTime,N=e.onClickTranscriptIcon,w=function(e){var t=Q.length;if(t>0)for(var n=0;n<t;n+=1){var r,a=Q[n];if(e<=(null===(r=Q[0])||void 0===r?void 0:r.endTime)){z.current=0;break}if((e>=(null===a||void 0===a?void 0:a.startTime)||(null===Z||void 0===Z?void 0:Z.endTime)<=(null===a||void 0===a?void 0:a.startTime))&&(e<=(null===a||void 0===a?void 0:a.endTime)||n===t-1)){z.current=n;break}}},j=(0,o.useState)([]),R=j[0],D=j[1],I=(0,o.useState)([]),Q=I[0],U=I[1],V=(0,o.useState)(0),A=V[0],B=V[1],P=(0,o.useState)(""),Z=P[0],H=P[1],M=(0,o.useState)(0),O=M[0],q=M[1],X=(0,o.useState)(0),F=X[0],J=X[1],W=(0,l.default)().notifyError,z=(0,o.useRef)(0);(0,o.useEffect)((function(){if(R&&Q){var e=R.map((function(e,t){var n,r=(0,u.fl)(null===(n=Q[t])||void 0===n?void 0:n.startTime);return(0,i.jsxs)("div",{className:"".concat(d.ey," ").concat(t),children:[(0,i.jsx)("span",{className:"caption_timeStamps",children:null===r||void 0===r?void 0:r.slice(3)}),(0,i.jsx)("span",{className:"caption_text",children:e})]})}));x&&h(e)}}),[R,Q]),(0,o.useEffect)((function(){if(A){var e=document.getElementsByClassName("".concat(d.ey," ").concat(A));document.querySelectorAll(".".concat(d.Xv)).forEach((function(e){e.classList.remove(d.Xv)}));for(var t=0;t<e.length;t+=1)e[t].classList.add(d.Xv);var n=document.querySelector(".".concat(d.Xv));n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}),[A]),(0,o.useEffect)((function(){if(y&&x)try{var e=function(){var e=(0,r.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,fetch(y)];case 1:return[4,e.sent().text()];case 2:return function(e){var t=new c.WebVTT.Parser(window,c.WebVTT.StringDecoder()),n=[],r=[];t.oncue=function(e){n.push(e.text),r.push(e)},t.onflush=function(){U(r),D(n)},t.parse(e),t.flush()}(e.sent()),[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}catch(i){var t,n;W((null===i||void 0===i||null===(t=i.data)||void 0===t||null===(n=t.error)||void 0===n?void 0:n.message)||"Unable to get transcript for this video")}}),[y]);var Y=o.useRef(null),$=(0,o.useRef)(!0),G=function(e,t){if("sourceset"===e.type&&($.current=!1,setTimeout((function(){$.current=!0}),1e3)),"sourceset"!==e.type&&$.current){var n=JSON.stringify({gfgVolumebar:t.volume(),gfgRatebar:t.playbackRate(),gfgVideoQuality:t.hlsQualitySelector.getCurrentQuality()});localStorage.setItem(d.tE,n)}},K=(0,o.useRef)(null);return n&&(K=n),(0,o.useEffect)((function(){if(K.current){if(K&&K.current){var e;f(K.current),K.current.src({src:t,type:"application/x-mpegURL",withCredentials:!1}),K.current.autoplay(!0),k&&(null===(e=Y.current)||void 0===e||e.focus())}}else{var n,r=Y.current;if(!r)return;var a=(0,s.default)(r,d.sY,(function(){a.src({src:t,type:"application/x-mpegURL",withCredentials:!1}),f(a),a.one("play",(function(){setTimeout((function(){a.on(["volumechange","ratechange","sourceset"],(function(e){return G(e,a)})),a.qualityLevels().on("change",(function(e){G(e,a)}))}),1e3)}));var e=a.controlBar.addChild("button",{},1).el();e.innerHTML="<img class='video_action forward icon' src='https://media.geeksforgeeks.org/img-practice/Forward(1)-1663059807.svg'/>",e.addEventListener("click",(function(){L&&C({seekDuration:10}),a.currentTime(a.currentTime()+10)})),e.addEventListener("touchstart",(function(){L&&C({seekDuration:10}),a.currentTime(a.currentTime()+10)}));var n=a.controlBar.addChild("button",{},1).el();if(n.innerHTML="<img class='video_action backward icon' src='https://media.geeksforgeeks.org/img-practice/Back(1)-1663059761.svg'/>",n.addEventListener("click",(function(){L&&C({seekDuration:-10}),a.currentTime(a.currentTime()-10)})),n.addEventListener("touchstart",(function(){L&&C({seekDuration:-10}),a.currentTime(a.currentTime()-10)})),x&&y&&!(0,d.ic)()&&function(e){if(y){var t=e.controlBar.addChild("button",{},15).el(),n=document.createElement("span");if(n.className="transcript_btn",n.innerHTML='<i class="large file alternate outline icon"></i>',n.classList.contains("transcript_btn")&&!localStorage.getItem(d.FD)){var r=document.createElement("div");r.className=d.RQ,n.appendChild(r)}t.appendChild(n),t.addEventListener("click",(function(){N(),(0,u.$q)(1,d.FD);var e=document.getElementsByClassName(d.RQ);e.length>0&&e[0].remove(e[0])}))}}(a),a.on("fullscreenchange",(function(){return Y.current&&Y.current.focus()})),v&&"off"===v&&a.autoplay(!1),a.hlsQualitySelector({displayCurrentQuality:!0}),K.current=a,g&&g(!0),m&&L){var r=!1,i=0,o=0;a.on("seeking",(function(){r=!0,i=a.currentTime()})),a.on("seeked",(function(){o=a.currentTime(),C({seekDuration:o-i}),r=!1})),a.on("timeupdate",(function(){r||p(!1,"timeupdate")})),a.on("ended",(function(){return p(!0,"ended")})),a.on(["play","pause","ratechange"],(function(e){r||p(!1,e.type)}))}else m&&(a.on("timeupdate",(function(){return p()})),a.on("ended",(function(){return p(!0)})))}));a.on("loadeddata",(function(){var e=function(){var e=localStorage.getItem(d.tE);return e?(e=JSON.parse(e)).gfgVideoQuality:null}(),t=a.qualityLevels();if(e)for(var n=0;n<t.length;n+=1){var r;if((null===(r=t[n])||void 0===r?void 0:r.height)===e){a.hlsQualitySelector.setQuality(e);break}}})),k&&(null===(n=Y.current)||void 0===n||n.focus())}}),[Y,t]),(0,o.useEffect)((function(){var e=K.current;return function(){e&&(e.dispose(),e.current=null)}}),[K]),(0,i.jsx)("video",{ref:Y,className:"video-js vjs-big-play-centered ".concat(b),"data-setup":'{ "muted": '.concat(E,',"fluid": true  }'),onTimeUpdate:function(e){var t;A<Q.length&&(e.target.currentTime>=(null===(t=Q[A])||void 0===t?void 0:t.endTime)||0===O)&&(w(e.target.currentTime),B(z.current),H(Q[z.current]),q(1)),F>e.target.currentTime&&(w(e.target.currentTime),H(Q[z.current]),B(z.current)),J(e.target.currentTime)}})}},40593:function(e,t,n){"use strict";var r=n(26042),a=n(69396),i=n(85893),o=(n(67294),n(73814)),c=n(91377);t.Z=function(e){var t=e.open,n=e.setOpen,s=e.videoDetails,u=e._playerRef,l=e.setIsPlayerLoaded,d=e.autoplay,f=e.resetRefs,v=e.trackUserActivity,m=e.trackUserActivityHandler;return(0,i.jsx)(o.Z,{showModal:t,onClose:function(){n((0,a.Z)((0,r.Z)({},s),{isOpen:!1})),f&&f()},header:null===s||void 0===s?void 0:s.title,content:(0,i.jsx)(c.default,{video:null===s||void 0===s?void 0:s.url,_playerRef:u,setIsPlayerLoaded:l,autoplay:d,trackUserActivity:v,trackUserActivityHandler:m}),allowCloseOutsideModal:!0})}},46896:function(e,t,n){"use strict";var r=n(85893),a=(n(67294),n(85905));t.Z=function(e){var t=e.background,n=e.progressData,i=e.showMeta,o=e.showBottomTags;return(0,r.jsxs)("div",{className:"g-mt-2 progress_bar",children:[i?"":(0,r.jsx)("div",{className:"progress_meta",children:(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:null===n||void 0===n?void 0:n.entities_solved_by_user})," of",(0,r.jsxs)("span",{children:[" ",null===n||void 0===n?void 0:n.batch_total_entities]})," Complete. (",null===n||void 0===n?void 0:n.user_batch_progress__display,"%)"]})}),(0,r.jsx)(a.Z,{size:"tiny",percent:null===n||void 0===n?void 0:n.user_batch_progress__display,style:{backgroundColor:t},className:"g-mt-1"}),o?(0,r.jsx)("div",{className:"progress_meta",children:(0,r.jsxs)("p",{children:[null===n||void 0===n?void 0:n.user_batch_progress__display,"% Completed"]})}):""]})}},25893:function(){}}]);